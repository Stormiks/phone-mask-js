{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/@babel/runtime/helpers/classCallCheck.js","./node_modules/@babel/runtime/helpers/createClass.js","./node_modules/@babel/runtime/helpers/defineProperty.js","./node_modules/@babel/runtime/helpers/classApplyDescriptorGet.js","./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","./node_modules/@babel/runtime/helpers/classExtractFieldDescriptor.js","./node_modules/@babel/runtime/helpers/classApplyDescriptorSet.js","./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","./src/plugin/index.js","./src/script.js"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}\n\nmodule.exports = _classApplyDescriptorGet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var classApplyDescriptorGet = require(\"./classApplyDescriptorGet.js\");\n\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n\nmodule.exports = _classPrivateFieldGet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\n\nmodule.exports = _classExtractFieldDescriptor;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n}\n\nmodule.exports = _classApplyDescriptorSet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var classApplyDescriptorSet = require(\"./classApplyDescriptorSet.js\");\n\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n\nmodule.exports = _classPrivateFieldSet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const appName = \"Input Phone Mask\"\nconst version = \"1.0.0\"\n\nclass InputTelephon {\n    #_eventsInput = ['focus', 'blur', 'keydown', 'input', 'paste']\n    #_inputs = []\n    #_regExpMask = /\\D/g\n    #_searchInputPattern = 'input[data-tel-input]'\n    _libName = appName\n    _version = version\n\n    constructor(options = {}) {\n        this.isInitInstance = Object.prototype.hasOwnProperty.call(options, 'init') ? options.init : true\n        this._eventsInput = Object.prototype.hasOwnProperty.call(options, 'events') ? options.events : this._eventsInput\n        this._inputs = Object.prototype.hasOwnProperty.call(options, 'fields') ? options.fields : this._inputs\n        this._searchInputPattern = Object.prototype.hasOwnProperty.call(options, 'patternNodeInpit') ? options.patternNodeInpit : this._searchInputPattern\n\n        if (this.isInitInstance)\n            this.install()\n    }\n\n    set _inputs($nodes = []) {\n        this.#_inputs = $nodes\n    }\n\n    get _inputs() {\n        return this.#_inputs\n    }\n\n    get _eventsInput() {\n        return this.#_eventsInput\n    }\n\n    set _eventsInput(arr = []) {\n        this.#_eventsInput = arr\n    }\n\n    get _searchInputPattern() {\n        return this.#_searchInputPattern\n    }\n\n    set _searchInputPattern(patternStr) {\n        this.#_searchInputPattern = patternStr\n    }\n\n    get maskField() {\n        return this.#_regExpMask\n    }\n\n    install() {\n        if (!this._inputs.length) {\n            this._inputs = document.querySelectorAll(this._searchInputPattern)\n        }\n\n        if (this._inputs.length)\n            this.subscribeEventsOnTheInput()\n    }\n\n    getInputNumbersValue($field) {\n        return $field.value.replace(this.maskField, '');\n    }\n\n    handlerKeydown(e) {\n        const $fieldValue = e.target.value.replace(this.maskField, '');\n\n        if (e.keyCode === 8 && $fieldValue.length === 1) {\n            e.target.value = \"\";\n        }\n    }\n\n    handlerFocus(e) {\n        const $field = e.target;\n\n        $field.placeholder = '+7 (999) 999-99-99'\n    }\n\n    handlerBlur(e) {\n        const $field = e.target;\n\n        $field.placeholder = 'Телефон'\n    }\n\n    handlerInput(e) {\n        const $field = e.target;\n        let inputNumbersValue = this.getInputNumbersValue($field);\n        const selectionStart = $field.selectionStart;\n        let formattedInputValue = \"\";\n\n        if (!inputNumbersValue) return $field.value = \"\";\n\n        if ($field.value.length != selectionStart) {\n            if (e.data && this.maskField.test(e.data)) {\n                $field.value = inputNumbersValue;\n            }\n            return;\n        }\n\n\n        if ([\"7\", \"8\", \"9\"].includes(inputNumbersValue[0])) {\n            if (inputNumbersValue[0] === \"9\") inputNumbersValue = `7${inputNumbersValue}`;\n\n            let firstSymbols = (inputNumbersValue[0] === \"8\") ? \"8\" : \"+7\";\n\n            formattedInputValue = $field.value = `${firstSymbols} `;\n\n            if (inputNumbersValue.length > 1) {\n                formattedInputValue += `(${inputNumbersValue.substring(1, 4)}`;\n            }\n            if (inputNumbersValue.length >= 5) {\n                formattedInputValue += `) ${inputNumbersValue.substring(4, 7)}`;\n            }\n            if (inputNumbersValue.length >= 8) {\n                formattedInputValue +=`-${inputNumbersValue.substring(7, 9)}`;\n            }\n            if (inputNumbersValue.length >= 10) {\n                formattedInputValue += `-${inputNumbersValue.substring(9, 11)}`;\n            }\n        } else {\n            formattedInputValue = `+${inputNumbersValue.substring(0, 16)}`;\n        }\n\n        $field.value = formattedInputValue;\n    }\n\n    handlerPaste(e) {\n        const $filed = e.target;\n        const inputNumbersValue = getInputNumbersValue($filed);\n        const pasted = e.clipboardData || window.clipboardData;\n\n        if (pasted) {\n            const pastedText = pasted.getData('Text');\n\n            if (this.maskField.test(pastedText)) {\n                $filed.value = inputNumbersValue;\n                return;\n            }\n        }\n    }\n\n    getMethodAtInstance(nameEvent) {\n        const formatFirstSymbolOfStr = nameEvent.slice(0,1).toUpperCase()\r\n        const restOfTheLine = nameEvent.slice(1)\r\n        const nameMethodAtClass = `handler${formatFirstSymbolOfStr}${restOfTheLine}`\r\n        \r\n        if (!this[nameMethodAtClass]) {\r\n            return false\r\n        } else {\r\n            return this[nameMethodAtClass]\n        }\n    }\n\n    subscribeEventsOnTheInput() {\n        for (const $input of this._inputs) {\n            if ($input.type !== 'tel') return\n\n            for (const event of this._eventsInput) {\n                const handlerMethod = this.getMethodAtInstance(event)\n\n                if (typeof handlerMethod === 'function')\n                    $input.addEventListener(event, handlerMethod.bind(this), false)\n            }\n        }\n    }\n}\n\n\nexport default InputTelephon\n","import instInputMask from './plugin/index.js'\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    const InputMask = new instInputMask();\r\n    console.info('Install to lib', InputMask._libName)\r\n    document.querySelector('input').focus();\r\n})"],"names":["$parcel$interopDefault","a","__esModule","default","instance","Constructor","TypeError","$4588e53b843b1dda6fc3fa131b24a320$export$default","$4588e53b843b1dda6fc3fa131b24a320$exports","$80903c2904d1947b51dca4d6b13de80e$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","$80903c2904d1947b51dca4d6b13de80e$export$default","$80903c2904d1947b51dca4d6b13de80e$exports","obj","value","$c8a5a53450f522098f7ff9249eb1f763$export$default","$c8a5a53450f522098f7ff9249eb1f763$exports","receiver","get","call","$81b51e44150ac2976dc9dabf5802681b$export$default","$81b51e44150ac2976dc9dabf5802681b$exports","$dc4d86c347fb1612fdd40d06544508da$var$classApplyDescriptorGet","privateMap","action","has","$de958c28363793c732ace84eceb48d7a$export$default","$de958c28363793c732ace84eceb48d7a$exports","$dc4d86c347fb1612fdd40d06544508da$var$classExtractFieldDescriptor","$dc4d86c347fb1612fdd40d06544508da$export$default","$dc4d86c347fb1612fdd40d06544508da$exports","set","$a32be64c5e42cfb6fd17855062be58ce$export$default","$a32be64c5e42cfb6fd17855062be58ce$exports","$e9f3ca00e737e910d6f374a4c655b7e7$var$classApplyDescriptorSet","$e9f3ca00e737e910d6f374a4c655b7e7$var$classExtractFieldDescriptor","$e9f3ca00e737e910d6f374a4c655b7e7$export$default","$e9f3ca00e737e910d6f374a4c655b7e7$exports","$0001f9638ad8de0a043f5573a1392387$var$appName","$0001f9638ad8de0a043f5573a1392387$var$version","$0001f9638ad8de0a043f5573a1392387$export$default","InputTelephon","options","this","isInitInstance","hasOwnProperty","init","_eventsInput","events","_inputs","fields","_searchInputPattern","patternNodeInpit","install","$0001f9638ad8de0a043f5573a1392387$var$_inputs","$nodes","$0001f9638ad8de0a043f5573a1392387$var$_eventsInput","arr","$0001f9638ad8de0a043f5573a1392387$var$_searchInputPattern","patternStr","$0001f9638ad8de0a043f5573a1392387$var$_regExpMask","document","querySelectorAll","subscribeEventsOnTheInput","$field","replace","maskField","e","$fieldValue","keyCode","placeholder","inputNumbersValue","getInputNumbersValue","selectionStart","formattedInputValue","includes","firstSymbols","substring","data","test","$filed","pasted","clipboardData","window","pastedText","getData","nameEvent","formatFirstSymbolOfStr","slice","toUpperCase","restOfTheLine","nameMethodAtClass","$input","type","event","handlerMethod","getMethodAtInstance","addEventListener","bind","InputMask","console","info","_libName","querySelector","focus"],"version":3,"file":"index.6a80533d.js.map"}