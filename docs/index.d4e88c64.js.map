{"mappings":"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","sources":["node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@swc/helpers/src/_create_class.mjs","node_modules/@swc/helpers/src/_define_property.mjs","src/plugin/index.js","src/script.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","const appName = \"Input Phone Mask\"\nconst version = \"1.0.0\"\n\nclass InputTelephon {\n    #_eventsInput = ['focus', 'blur', 'keydown', 'input', 'paste']\n    #_inputs = []\n    #_regExpMask = /\\D/g\n    #_searchInputPattern = 'input[data-tel-input]'\n    _libName = appName\n    _version = version\n\n    constructor(options = {}) {\n        this.isInitInstance = Object.prototype.hasOwnProperty.call(options, 'init') ? options.init : true\n        this._eventsInput = Object.prototype.hasOwnProperty.call(options, 'events') ? options.events : this._eventsInput\n        this._inputs = Object.prototype.hasOwnProperty.call(options, 'fields') ? options.fields : this._inputs\n        this._searchInputPattern = Object.prototype.hasOwnProperty.call(options, 'patternNodeInput') ? options.patternNodeInput : this._searchInputPattern\n\n        if (this.isInitInstance)\n            this.install()\n    }\n\n    set _inputs($nodes = []) {\n        this.#_inputs = $nodes\n    }\n\n    get _inputs() {\n        return this.#_inputs\n    }\n\n    get _eventsInput() {\n        return this.#_eventsInput\n    }\n\n    set _eventsInput(arr = []) {\n        this.#_eventsInput = arr\n    }\n\n    get _searchInputPattern() {\n        return this.#_searchInputPattern\n    }\n\n    set _searchInputPattern(patternStr) {\n        this.#_searchInputPattern = patternStr\n    }\n\n    get maskField() {\n        return this.#_regExpMask\n    }\n\n    install() {\n        if (!this._inputs.length) {\n            this._inputs = document.querySelectorAll(this._searchInputPattern)\n        }\n\n        if (this._inputs.length)\n            this.subscribeEventsOnTheInput()\n    }\n\n    getInputNumbersValue($field) {\n        return $field.value.replace(this.maskField, '');\n    }\n\n    handlerKeydown(e) {\n        const $fieldValue = e.target.value.replace(this.maskField, '');\n\n        if (e.keyCode === 8 && $fieldValue.length === 1) {\n            e.target.value = \"\";\n        }\n    }\n\n    handlerFocus(e) {\n        const $field = e.target;\n\n        $field.placeholder = '+7 (999) 999-99-99'\n    }\n\n    handlerBlur(e) {\n        const $field = e.target;\n\n        $field.placeholder = 'Телефон'\n    }\n\n    handlerInput(e) {\n        const $field = e.target;\n        let inputNumbersValue = this.getInputNumbersValue($field);\n        const selectionStart = $field.selectionStart;\n        let formattedInputValue = \"\";\n\n        if (!inputNumbersValue) return $field.value = \"\";\n\n        if ($field.value.length != selectionStart) {\n            if (e.data && this.maskField.test(e.data)) {\n                $field.value = inputNumbersValue;\n            }\n            return;\n        }\n\n\n        if ([\"7\", \"8\", \"9\"].includes(inputNumbersValue[0])) {\n            if (inputNumbersValue[0] === \"9\") inputNumbersValue = `7${inputNumbersValue}`;\n\n            let firstSymbols = (inputNumbersValue[0] === \"8\") ? \"8\" : \"+7\";\n\n            formattedInputValue = $field.value = `${firstSymbols} `;\n\n            if (inputNumbersValue.length > 1) {\n                formattedInputValue += `(${inputNumbersValue.substring(1, 4)}`;\n            }\n            if (inputNumbersValue.length >= 5) {\n                formattedInputValue += `) ${inputNumbersValue.substring(4, 7)}`;\n            }\n            if (inputNumbersValue.length >= 8) {\n                formattedInputValue +=`-${inputNumbersValue.substring(7, 9)}`;\n            }\n            if (inputNumbersValue.length >= 10) {\n                formattedInputValue += `-${inputNumbersValue.substring(9, 11)}`;\n            }\n        } else {\n            formattedInputValue = `+${inputNumbersValue.substring(0, 16)}`;\n        }\n\n        $field.value = formattedInputValue;\n    }\n\n    handlerPaste(e) {\n        const $filed = e.target;\n        const inputNumbersValue = getInputNumbersValue($filed);\n        const pasted = e.clipboardData || window.clipboardData;\n\n        if (pasted) {\n            const pastedText = pasted.getData('Text');\n\n            if (this.maskField.test(pastedText)) {\n                $filed.value = inputNumbersValue;\n                return;\n            }\n        }\n    }\n\n    getMethodAtInstance(nameEvent) {\n        const formatFirstSymbolOfStr = nameEvent.slice(0,1).toUpperCase()\n        const restOfTheLine = nameEvent.slice(1)\n        const nameMethodAtClass = `handler${formatFirstSymbolOfStr}${restOfTheLine}`\n\n        if (!this[nameMethodAtClass]) {\n            return false\n        } else {\n            return this[nameMethodAtClass]\n        }\n    }\n\n    subscribeEventsOnTheInput() {\n        for (const $input of this._inputs) {\n            if ($input.type !== 'tel') return\n\n            for (const event of this._eventsInput) {\n                const handlerMethod = this.getMethodAtInstance(event)\n\n                if (typeof handlerMethod === 'function')\n                    $input.addEventListener(event, handlerMethod.bind(this), false)\n            }\n        }\n    }\n}\n\n\nexport default InputTelephon\n","import instInputMask from './plugin/index.js'\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n    const InputMask = new instInputMask();\n    console.info('Install to lib', InputMask._libName)\n    document.querySelector('input').focus();\n})"],"names":["$583040cfff0641a2$export$2e2bcd8739ae039","instance","Constructor","TypeError","$319a6812b1a167d6$export$2e2bcd8739ae039","receiver","privateMap","action","has","get","$1545be1cc1a86a7c$export$2e2bcd8739ae039","descriptor","call","value","$b9bb47458a45138f$export$2e2bcd8739ae039","$726bf01f13aca651$export$2e2bcd8739ae039","obj","privateCollection","$6475f1463184924c$export$2e2bcd8739ae039","set","$d686403536aed4e1$export$2e2bcd8739ae039","writable","$2ccf95e0c5783ffb$export$2e2bcd8739ae039","$5ef3c6d42d989b81$var$_defineProperties","target","props","i","length","enumerable","configurable","Object","defineProperty","key","$6df7075b44b430c3$export$2e2bcd8739ae039","appName","version","$ce4d00a0d5c16222$var$__eventsInput","WeakMap","$ce4d00a0d5c16222$var$__inputs","$ce4d00a0d5c16222$var$__regExpMask","$ce4d00a0d5c16222$var$__searchInputPattern","$ce4d00a0d5c16222$var$InputTelephon","InputTelephon","options","arguments","this","_libName","_version","isInitInstance","prototype","hasOwnProperty","init","_eventsInput","events","_inputs","fields","_searchInputPattern","patternNodeInput","install","protoProps","staticProps","$nodes","arr","patternStr","maskField","_regExpMask","document","querySelectorAll","subscribeEventsOnTheInput","getInputNumbersValue","$field","replace","handlerKeydown","e","$fieldValue","keyCode","handlerFocus","placeholder","handlerBlur","handlerInput","inputNumbersValue","selectionStart","formattedInputValue","includes","concat","firstSymbols","substring","data","test","handlerPaste","$filed","pasted","clipboardData","window","pastedText","getData","getMethodAtInstance","nameEvent","formatFirstSymbolOfStr","slice","toUpperCase","restOfTheLine","nameMethodAtClass","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","$input","type","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","event","handlerMethod","addEventListener","bind","err","return","$ce4d00a0d5c16222$export$2e2bcd8739ae039","InputMask","instInputMask","console","info","querySelector","focus"],"version":3,"file":"index.d4e88c64.js.map"}