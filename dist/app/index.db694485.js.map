{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/@babel/runtime/helpers/defineProperty.js","./node_modules/@babel/runtime/helpers/classApplyDescriptorGet.js","./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","./node_modules/@babel/runtime/helpers/classExtractFieldDescriptor.js","./node_modules/@babel/runtime/helpers/classApplyDescriptorSet.js","./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","./src/plugin/index.js"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}\n\nmodule.exports = _classApplyDescriptorGet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var classApplyDescriptorGet = require(\"./classApplyDescriptorGet.js\");\n\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n\nmodule.exports = _classPrivateFieldGet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\n\nmodule.exports = _classExtractFieldDescriptor;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n}\n\nmodule.exports = _classApplyDescriptorSet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var classApplyDescriptorSet = require(\"./classApplyDescriptorSet.js\");\n\nvar classExtractFieldDescriptor = require(\"./classExtractFieldDescriptor.js\");\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n\nmodule.exports = _classPrivateFieldSet;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const appName = \"Input Phone Mask\"\nconst version = \"1.0.0\"\n\nclass InputTelephon {\n    #_eventsInput = ['focus', 'blur', 'keydown', 'input', 'paste']\n    #_inputs = []\n    #_regExpMask = /\\D/g\n    #_searchInputPattern = 'input[data-tel-input]'\n    _libName = appName\n    _version = version\n\n    constructor(options = {}) {\n        this.isInitInstance = Object.prototype.hasOwnProperty.call(options, 'init') ? options.init : true\n        this._eventsInput = Object.prototype.hasOwnProperty.call(options, 'events') ? options.events : this._eventsInput\n        this._inputs = Object.prototype.hasOwnProperty.call(options, 'fields') ? options.fields : this._inputs\n        this._searchInputPattern = Object.prototype.hasOwnProperty.call(options, 'patternNodeInpit') ? options.patternNodeInpit : this._searchInputPattern\n\n        if (this.isInitInstance)\n            this.install()\n    }\n\n    set _inputs($nodes = []) {\n        this.#_inputs = $nodes\n    }\n\n    get _inputs() {\n        return this.#_inputs\n    }\n\n    get _eventsInput() {\n        return this.#_eventsInput\n    }\n\n    set _eventsInput(arr = []) {\n        this.#_eventsInput = arr\n    }\n\n    get _searchInputPattern() {\n        return this.#_searchInputPattern\n    }\n\n    set _searchInputPattern(patternStr) {\n        this.#_searchInputPattern = patternStr\n    }\n\n    get maskField() {\n        return this.#_regExpMask\n    }\n\n    install() {\n        if (!this._inputs.length) {\n            this._inputs = document.querySelectorAll(this._searchInputPattern)\n        }\n\n        if (this._inputs.length)\n            this.subscribeEventsOnTheInput()\n    }\n\n    getInputNumbersValue($field) {\n        return $field.value.replace(this.maskField, '');\n    }\n\n    handlerKeydown(e) {\n        const $fieldValue = e.target.value.replace(this.maskField, '');\n\n        if (e.keyCode === 8 && $fieldValue.length === 1) {\n            e.target.value = \"\";\n        }\n    }\n\n    handlerFocus(e) {\n        const $field = e.target;\n\n        $field.placeholder = '+7 (999) 999-99-99'\n    }\n\n    handlerBlur(e) {\n        const $field = e.target;\n\n        $field.placeholder = 'Телефон'\n    }\n\n    handlerInput(e) {\n        const $field = e.target;\n        let inputNumbersValue = this.getInputNumbersValue($field);\n        const selectionStart = $field.selectionStart;\n        let formattedInputValue = \"\";\n\n        if (!inputNumbersValue) return $field.value = \"\";\n\n        if ($field.value.length != selectionStart) {\n            if (e.data && this.maskField.test(e.data)) {\n                $field.value = inputNumbersValue;\n            }\n            return;\n        }\n\n\n        if ([\"7\", \"8\", \"9\"].includes(inputNumbersValue[0])) {\n            if (inputNumbersValue[0] === \"9\") inputNumbersValue = `7${inputNumbersValue}`;\n\n            let firstSymbols = (inputNumbersValue[0] === \"8\") ? \"8\" : \"+7\";\n\n            formattedInputValue = $field.value = `${firstSymbols} `;\n\n            if (inputNumbersValue.length > 1) {\n                formattedInputValue += `(${inputNumbersValue.substring(1, 4)}`;\n            }\n            if (inputNumbersValue.length >= 5) {\n                formattedInputValue += `) ${inputNumbersValue.substring(4, 7)}`;\n            }\n            if (inputNumbersValue.length >= 8) {\n                formattedInputValue +=`-${inputNumbersValue.substring(7, 9)}`;\n            }\n            if (inputNumbersValue.length >= 10) {\n                formattedInputValue += `-${inputNumbersValue.substring(9, 11)}`;\n            }\n        } else {\n            formattedInputValue = `+${inputNumbersValue.substring(0, 16)}`;\n        }\n\n        $field.value = formattedInputValue;\n    }\n\n    handlerPaste(e) {\n        const $filed = e.target;\n        const inputNumbersValue = getInputNumbersValue($filed);\n        const pasted = e.clipboardData || window.clipboardData;\n\n        if (pasted) {\n            const pastedText = pasted.getData('Text');\n\n            if (this.maskField.test(pastedText)) {\n                $filed.value = inputNumbersValue;\n                return;\n            }\n        }\n    }\n\n    getMethodAtInstance(nameEvent) {\n        const formatFirstSymbolOfStr = nameEvent.slice(0,1).toUpperCase()\r\n        const restOfTheLine = nameEvent.slice(1)\r\n        const nameMethodAtClass = `handler${formatFirstSymbolOfStr}${restOfTheLine}`\r\n        \r\n        if (!this[nameMethodAtClass]) {\r\n            return false\r\n        } else {\r\n            return this[nameMethodAtClass]\n        }\n    }\n\n    subscribeEventsOnTheInput() {\n        for (const $input of this._inputs) {\n            if ($input.type !== 'tel') return\n\n            for (const event of this._eventsInput) {\n                const handlerMethod = this.getMethodAtInstance(event)\n\n                if (typeof handlerMethod === 'function')\n                    $input.addEventListener(event, handlerMethod.bind(this), false)\n            }\n        }\n    }\n}\n\n\nexport default InputTelephon\n"],"names":["$parcel$interopDefault","a","__esModule","default","obj","key","value","Object","defineProperty","enumerable","configurable","writable","$e4f5842b286052122aa381e3383f9a6f$export$default","$e4f5842b286052122aa381e3383f9a6f$exports","receiver","descriptor","get","call","$0dffc02c3c5499589e461911367fc3d8$export$default","$0dffc02c3c5499589e461911367fc3d8$exports","$b8e8528bc546315dd2139d9489ebdc04$var$classApplyDescriptorGet","privateMap","action","has","TypeError","$7a4d6af69d5f0a676af9772936f52b74$export$default","$7a4d6af69d5f0a676af9772936f52b74$exports","$b8e8528bc546315dd2139d9489ebdc04$var$classExtractFieldDescriptor","$b8e8528bc546315dd2139d9489ebdc04$export$default","$b8e8528bc546315dd2139d9489ebdc04$exports","set","$bebb247aee55717211f2bf00101a86f7$export$default","$bebb247aee55717211f2bf00101a86f7$exports","$93f33563cd2d2c260517a16e87dad64f$var$classApplyDescriptorSet","$93f33563cd2d2c260517a16e87dad64f$var$classExtractFieldDescriptor","$93f33563cd2d2c260517a16e87dad64f$export$default","$93f33563cd2d2c260517a16e87dad64f$exports","_default","constructor","options","this","isInitInstance","prototype","hasOwnProperty","init","_eventsInput","events","_inputs","fields","_searchInputPattern","patternNodeInpit","install","$nodes","$cd5f419d2e2c970aa27dd3963de0c764$var$_inputs","$cd5f419d2e2c970aa27dd3963de0c764$var$_eventsInput","arr","$cd5f419d2e2c970aa27dd3963de0c764$var$_searchInputPattern","patternStr","$cd5f419d2e2c970aa27dd3963de0c764$var$_regExpMask","length","document","querySelectorAll","subscribeEventsOnTheInput","getInputNumbersValue","$field","replace","maskField","handlerKeydown","e","$fieldValue","target","keyCode","handlerFocus","placeholder","handlerBlur","handlerInput","inputNumbersValue","selectionStart","formattedInputValue","includes","firstSymbols","substring","data","test","handlerPaste","$filed","pasted","clipboardData","window","pastedText","getData","getMethodAtInstance","nameEvent","formatFirstSymbolOfStr","slice","toUpperCase","restOfTheLine","nameMethodAtClass","$input","type","event","handlerMethod","addEventListener","bind"],"version":3,"file":"index.db694485.js.map"}