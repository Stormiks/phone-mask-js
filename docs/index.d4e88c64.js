!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function n(t,e){return e.get?e.get.call(t):e.value}function a(t,a){return n(t,e(t,a,"get"))}function i(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(t,e,n){i(t,e),e.set(t,n)}function u(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function l(t,n,a){return u(t,e(t,n,"set"),a),a}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="Input Phone Mask",h="1.0.0",p=new WeakMap,v=new WeakMap,f=new WeakMap,d=new WeakMap,y=function(){"use strict";function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),r(this,p,{writable:!0,value:["focus","blur","keydown","input","paste"]}),r(this,v,{writable:!0,value:[]}),r(this,f,{writable:!0,value:/\D/g}),r(this,d,{writable:!0,value:"input[data-tel-input]"}),o(this,"_libName",c),o(this,"_version",h),this.isInitInstance=!Object.prototype.hasOwnProperty.call(n,"init")||n.init,this._eventsInput=Object.prototype.hasOwnProperty.call(n,"events")?n.events:this._eventsInput,this._inputs=Object.prototype.hasOwnProperty.call(n,"fields")?n.fields:this._inputs,this._searchInputPattern=Object.prototype.hasOwnProperty.call(n,"patternNodeInput")?n.patternNodeInput:this._searchInputPattern,this.isInitInstance&&this.install()}var n,i,u;return n=e,i=[{key:"_inputs",get:function(){return a(this,v)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l(this,v,t)}},{key:"_eventsInput",get:function(){return a(this,p)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l(this,p,t)}},{key:"_searchInputPattern",get:function(){return a(this,d)},set:function(t){l(this,d,t)}},{key:"maskField",get:function(){return a(this,f)}},{key:"install",value:function(){this._inputs.length||(this._inputs=document.querySelectorAll(this._searchInputPattern)),this._inputs.length&&this.subscribeEventsOnTheInput()}},{key:"getInputNumbersValue",value:function(t){return t.value.replace(this.maskField,"")}},{key:"handlerKeydown",value:function(t){var e=t.target.value.replace(this.maskField,"");8===t.keyCode&&1===e.length&&(t.target.value="")}},{key:"handlerFocus",value:function(t){t.target.placeholder="+7 (999) 999-99-99"}},{key:"handlerBlur",value:function(t){t.target.placeholder="Телефон"}},{key:"handlerInput",value:function(t){var e=t.target,n=this.getInputNumbersValue(e),a=e.selectionStart,i="";if(!n)return e.value="";if(e.value.length==a){if(["7","8","9"].includes(n[0])){"9"===n[0]&&(n="7".concat(n));var r="8"===n[0]?"8":"+7";i=e.value="".concat(r," "),n.length>1&&(i+="(".concat(n.substring(1,4))),n.length>=5&&(i+=") ".concat(n.substring(4,7))),n.length>=8&&(i+="-".concat(n.substring(7,9))),n.length>=10&&(i+="-".concat(n.substring(9,11)))}else i="+".concat(n.substring(0,16));e.value=i}else t.data&&this.maskField.test(t.data)&&(e.value=n)}},{key:"handlerPaste",value:function(t){var e=t.target,n=getInputNumbersValue(e),a=t.clipboardData||window.clipboardData;if(a){var i=a.getData("Text");if(this.maskField.test(i))return void(e.value=n)}}},{key:"getMethodAtInstance",value:function(t){var e=t.slice(0,1).toUpperCase(),n=t.slice(1),a="handler".concat(e).concat(n);return!!this[a]&&this[a]}},{key:"subscribeEventsOnTheInput",value:function(){var t=!0,e=!1,n=void 0;try{for(var a,i=this._inputs[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var r=a.value;if("tel"!==r.type)return;var u=!0,l=!1,s=void 0;try{for(var o,c=this._eventsInput[Symbol.iterator]();!(u=(o=c.next()).done);u=!0){var h=o.value,p=this.getMethodAtInstance(h);"function"==typeof p&&r.addEventListener(h,p.bind(this),!1)}}catch(t){l=!0,s=t}finally{try{u||null==c.return||c.return()}finally{if(l)throw s}}}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}}],i&&s(n.prototype,i),u&&s(n,u),e}(),b=y;document.addEventListener("DOMContentLoaded",(function(){var t=new b;console.info("Install to lib",t._libName),document.querySelector("input").focus()}))}();
//# sourceMappingURL=index.d4e88c64.js.map
